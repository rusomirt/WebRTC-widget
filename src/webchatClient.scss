// CSS classes naming conventions - BEM (https://en.bem.info/methodology):
// block-name
// block-name--block-modifier-name
// block-name__element-name
// block-name__element-name--element-modifier-name

// SCSS variables suffixes contain abbreviated CSS properties or their parts:
// -p - padding
// -m - margin
// -h - height
// -w - width
// -t - top
// -l - left
// -r - right
// -b - bottom
// -pt - padding-top
// -pl - padding-left
// -pr - padding-right
// -pb - padding-bottom
// -px - horizontal padding (-left & -right)
// -py - vertical padding (-top & -bottom)

@font-face {
  font-family: 'Lucida Grande';
  src: url(fonts/LucidaGrandeRegular.ttf);
}
@font-face {
  font-family: 'Roboto Medium';
  src: url(fonts/RobotoMedium.ttf);
}
@font-face {
  font-family: 'Roboto Regular';
  src: url(fonts/RobotoRegular.ttf);
}

video {
  max-width: 100%;
}

.btn {
  border-radius: 50%;
  padding: 0;
  border: none;
  outline: none;
  cursor: pointer;
}

$webchat-r: 20px;
$webchat-b: 20px;
$webchat-launch-btn-size: 64px;
$webchat-chat-btn-size: 50px;
// Distance between chat type buttons (video, voice or text) and chat launch button:
$webchat-chat-btn-shift: 40px;

$webchat-color-main: #00c48a;
$webchat-color-stop: #c41200;
$webchat-color-bluedark: #3b5d80;
$webchat-color-bluelight: #75baff;

.webchat {
  position: fixed;
  right: $webchat-r;
  bottom: $webchat-b;

  display: inline-block;
  width: 0;
  height: 0;

  .webchat__launch-btn {
    @extend .btn;
    position: absolute;
    right: 0;
    bottom: 0;

    width: $webchat-launch-btn-size;
    height: $webchat-launch-btn-size;
    background-color: $webchat-color-main;
  }
  .webchat__chat-btn {
    @extend .btn;
    position: absolute;
    right: 0;
    bottom: 0;

    width: $webchat-chat-btn-size;
    height: $webchat-chat-btn-size;
    display: none;  // initially hidden
    background-color: $webchat-color-main;
  }
  .webchat__chat-btn--showed {
    display: block; // displayed after click on 'launch-btn'
  }

  .webchat__chat-btn--video {
    right: $webchat-chat-btn-shift + $webchat-launch-btn-size;
    bottom: ($webchat-launch-btn-size - $webchat-chat-btn-size) * 0.5;
  }
  .webchat__chat-btn--voice {
    right: ($webchat-chat-btn-shift + $webchat-launch-btn-size) * 0.707;
    bottom: ($webchat-chat-btn-shift + $webchat-launch-btn-size) * 0.707;
  }
  .webchat__chat-btn--text {
    right: ($webchat-launch-btn-size - $webchat-chat-btn-size) * 0.5;
    bottom: $webchat-chat-btn-shift + $webchat-launch-btn-size;
  }
}

$modal-bg-transparency: 0.5;
$modal-inner-w: 400px;
//$modal-inner-h: 300px;

.modal {
  position: fixed;
  top: 0;           // covers whole screen
  left: 0;
  right: 0;
  bottom: 0;

  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(0, 0, 0, $modal-bg-transparency);

  .modal__inner {
    width: $modal-inner-w;
    max-width: 100%;      // shrink to window on narrow screens (< $modal-inner-w)

  }
}

$copyright-padding: 4px;

$copyright-font-family: 'Roboto Regular', sans-serif;
$copyright-font-size: 15px;
$copyright-font-color: white;

$copyright-inner-w: 3px;
$copyright-inner-color: #b33b29;
$copyright-circle1-w: 2px;
$copyright-circle1-color: white;
$copyright-circle2-w: 4px;
$copyright-circle2-color: #b33b29;
$copyright-mr: 4px;

.copyright {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: $copyright-padding;

  .copyright__text {
    display: inline-block;

    font-family: $copyright-font-family;
    font-size: $copyright-font-size;
    color: $copyright-font-color;
  }
  .copyright__sign {
    display: block;
    margin: $copyright-circle2-w ($copyright-circle2-w + $copyright-mr) 0 0;

    width: $copyright-inner-w;
    height: $copyright-inner-w;
    background-color: $copyright-inner-color;

    border: $copyright-circle1-w solid $copyright-circle1-color;
    border-radius: 50%;

    box-shadow: 0 0 0 $copyright-circle2-w $copyright-circle2-color;
  }
}

$chat-video-out-w: 20%;       // 20% of .chat width
$chat-panel-w: 90%;           // 90% of .chat width
$chat-panel-max-w: 300px;
$chat-panel-h: 50px;
$chat-panel-b: 26px;
$chat-btns-group-mx: $chat-panel-h * 0.25;
$chat-stop-btn-size: 64px;

$chat-info-mb: $chat-panel-b + $chat-panel-h + 24px;

$chat-circle-inner-w: 2px;
$chat-circle-inner-color: $webchat-color-main;
$chat-circle-circle1-w: 2px;
$chat-circle-circle1-color: white;
$chat-circle-circle2-w: 3px;
$chat-circle-circle2-color: $webchat-color-main;

.chat {
  position: relative;   /* for abs-positioned .chat__panel*/
  border-top: 10px solid $webchat-color-bluedark;
  height: 100%;

  .chat__info {
    margin-bottom: $chat-info-mb;

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;

    background: white;

    .chat__status {
      padding-top: 6px;
      margin-bottom: 12px;

      .chat__status-txt-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .chat__status-txt {
        margin-left: 5px;
        font-family: 'Roboto Medium', sans-serif;
        font-size: 18px;
        color: $webchat-color-main;
      }

      .chat__timer-wrapper {
        width: 100%;
        text-align: center;
      }
    }
    .chat__logo {
      //margin-bottom: 90px;
    }
    .chat__tips {
      margin-bottom: 118px;
      font-family: 'Roboto Regular', sans-serif;
      font-size: 16px;
      color: black;
      padding: 40px 0;
      text-align: center;
    }
  }
  .chat__info--short {
    margin-bottom: 0;
  }

  .chat__circles {
    display: inline-block;

    .chat__circle {
      display: inline-block;

      margin: 0 $chat-circle-circle2-w + 1px;

      width: $chat-circle-inner-w;
      height: $chat-circle-inner-w;
      background-color: $chat-circle-inner-color;

      border: $chat-circle-circle1-w solid $chat-circle-circle1-color;
      border-radius: 50%;

      box-shadow: 0 0 0 $chat-circle-circle2-w $chat-circle-circle2-color;

      &:nth-of-type(2) {
        margin-bottom: 5px;
        opacity: 0.9;
      }
      &:nth-of-type(3) {
        margin-bottom: 9px;
        opacity: 0.8;
      }
      &:nth-of-type(4) {
        margin-bottom: 11px;
        opacity: 0.7;
      }
      &:nth-of-type(5) {
        margin-bottom: 8px;
        opacity: 0.6;
      }
    }
  }

  .chat__video-container {
    display: block;
    position: relative;

    &.chat__video-container--hidden {
      display: none;
    }
    .chat__video-in {
      width: 100%;
      height: 100%;
    }
    .chat__video-out {
      position: absolute;
      top: 10px;
      right: 10px;
      width: $chat-video-out-w;
    }
  }

  .chat__msg-container {

    .chat__msg {
      border-radius: 26px;
      color: white;
      font-family: 'Lucida Grande', sans-serif;
    }
    .chat__msg--in {
      background-color: $webchat-color-bluedark;
      border-bottom-right-radius: 0;
    }
    .chat__msg--out {
      background-color: $webchat-color-bluelight;
      border-bottom-left-radius: 0;
    }
  }

  .chat__panel {
    position: absolute;
    bottom: $chat-panel-b;
    left: 50%;
    transform: translateX(-50%);

    width: $chat-panel-w;
    max-width: $chat-panel-max-w;
    height: $chat-panel-h;
    border-radius: $chat-panel-h * 0.5;
    background: white;

    display: flex;

    .chat__btns-group { /* contains 1 or 2 buttons (.chat__btn-small) */
      margin: 0 $chat-btns-group-mx;
      flex: 1 1 0;

      display: inline-flex;
      justify-content: space-around;
      align-items: center;
    }
    .chat__btns-group:not(:first-of-type) {   // .chat__btns-group + .chat__btns-group doesn't work
      margin-left: $chat-stop-btn-size - $chat-btns-group-mx;
    }

    .chat__btn--small {
      @extend .btn;
      width: $chat-panel-h;
      height: $chat-panel-h;
      background-color: transparent;
    }
    .chat__btn--stop {
      position: absolute;
      top: ($chat-panel-h - $chat-stop-btn-size)/2;
      left: 50%;
      transform: translateX(-50%);

      @extend .btn;
      width: $chat-stop-btn-size;
      height: $chat-stop-btn-size;
      background-color: $webchat-color-stop;
    }
  }
}

.icon {
  vertical-align: middle;

  &.icon--white {
    color: white;
  }
  &.icon--color {
    color: $webchat-color-main;
  }
  &.icon--color-scnd {
    color: #f8e71c;
  }
  &.icon--lg {
    font-size: 30px;
  }
  &.icon--md {
    font-size: 26px;
  }
  &.icon--sm {
    font-size: 20px;
  }
  &.icon--xs {
    font-size: 18px;
  }
  &.icon--crossed {
    position: relative;

    &:after{
      content: '';
      position: absolute;
      top: 7px;
      right: -4px;
      width: 1.4em;
      height: 2px;
      background: $webchat-color-main;
      border-top: 2px solid white;
      transform: rotate(-45deg);
    }
  }
  &.icon--lowered {
    margin-bottom: -3px;
  }
}

.timer {
  font-family: 'Roboto Medium', sans-serif;
  font-size: 10px;
  color: $webchat-color-main;
}









